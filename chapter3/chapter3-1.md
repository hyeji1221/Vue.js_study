# 3-1 뷰 인스턴스

## 뷰 인스턴스 정의와 속성

뷰 인스턴스는 뷰로 화면을 개발하기 위해 필수적으로 생성해야 하는 기본 단위

### 뷰 인스턴스 생성

**뷰 인스턴스 형식** -> 미리 정의해 놓고 기능을 재정의하여 편리하게 사용하도록 하기 위해서 Vue 생성자 지정

```vue
new Vue({
	...
})
```

- el 속성 : 뷰 인스턴스가 그려질 지점 지정
- data : message 값을 정의하여 {(message)}에 연결

## 뷰 인스턴스 옵션 속성

**el**

- 뷰로 만들어진 화면이 그려지는 시작점
- #app : 같은 화면의 돔 요소 중 app이라는 아이디를 가진 요소 (CSS 선택자 규칙과 같음)

**data**

- 예에서는 message 속성을 추가하여 값을 줌

**이 외의 속성들**

|   속성   |                             설명                             |
| :------: | :----------------------------------------------------------: |
| template | 화면에 표시할 HTML, CSS 등의 마크업 요소를 정의하는 속성<br />뷰의 데이터 및 기타 속성들도 함께 화면에 그릴 수 있음 |
| methods  | 화면 로직 제어와 관계된 메서드를 정의하는 속성<br /> 마우스 클릭 이벤트 처리와 같이 화면의 전반적인 이벤트와 동작과 관련된 로직 추가 가능 |
| created  | 뷰 인스턴스가 생성되자마자 실행할 로직을 정의할 수 있는 속성 |

## 뷰 인스턴스의 유효 범위

뷰 인스턴스를 생성하면 HTML의 특정 범위 안에서만 옵션 속성들이 적용되어 나타남

el 속성과 밀접한 관계가 있다

**new Vue()로 인스턴스 생성 후 화면에 옵션 속성 적용 과정**

1. 뷰 라이브러리 파일 로딩
2. 인스턴스 객체 생성(옵션 속성 포함)
3. 특정 화면 요소에 인스턴스 붙임
4. 인스턴스 내용이 화면 요소로 변환
5. 변환된 화면 요소를 사용자가 최종 확인

## 뷰 인스턴스 라이프 사이클

**라이프 사이클 훅** : 각 라이프 사이클 속성에서 실행되는 커스텀 로직

**라이프 사이클 속성** : 인스턴스의 상태에 따라 호출할 수 있는 속성들

1. **인스턴스의 생성**

   |     속성     |                             설명                             |
   | :----------: | :----------------------------------------------------------: |
   | beforeCreate | data, methods 속성이 인스턴스에 정의되어 있지 않고 돔과 같은 화면 요소에도 접근 불가 |
   |   created    | data, methods 속성이 정의되어 있으므로 this.data 또는 this.fetchData()와 같은 로직 실행 가능 <br />그러나 인스턴스가 화면 요소에 부착되기 전이므로 template 속성에 정의된 돔 요소로 접근 불가 |
   | beforeMount  | template 속성에 지정한 마크업 속성을 render() 함수로 변환 후 <br />el 속성에 지정한 화면 요소(돔)에 인스턴스 부착하기 전 호출 |
   |   mounted    | el 속성에서 지정한 화면 요소에 인스턴스 부착 후 호출되는 단계 |

2. **생성된 인스턴스를 화면에 부착** ( 부착 -> 갱신 구간은 데이터가 변경되는 경우에만 거침)

   |     속성     |                             설명                             |
   | :----------: | :----------------------------------------------------------: |
   | beforeUpdate | el 속성에서 지정한 화면 요소에 인스턴스 부착 후 화면에 치환<br />치환된 값은 뷰의 반응성 제공을 위해 $watch 속성으로 감시 (데이터 관찰)<br />변경 예정인 세 데이터에 접근 가능 -> 그러나 화면이 다시  그려지지는 않음 |
   |   updated    | 데이터 변경 후 가상 돔으로 다시 화면 그리고 나면 실행되는 단계<br />데이터 변경으로 인한 화면 요소까지 완료된 시점 |

3. **화면에 부착된 인스턴스의  내용이 갱신**

   |     속성      |                             설명                             |
   | :-----------: | :----------------------------------------------------------: |
   | beforeDestroy |  뷰 인스턴스 파괴 직전 호출<br />아직 인스턴스에 접근 가능   |
   |   destroyed   | 뷰 인스턴스 파괴 후 호출<br />모든 속성 제거 후 하위에 선언한 인스턴스들 또한 모두 파괴 |

4. **인스턴스가 제거되는 소멸**



