# 3-3 뷰 컴포넌트 통신

## 컴포넌트 간 통신과 유효 범위

뷰의 경우 컴포넌트로 화면을 구성하므로 같은 웹 페이지라도 데이터 공유 불가 -> 컴포넌트 마다 자체적으로 고유한 유효 범위를 갖기 때문

따라서 각 컴포넌트의 유효 범위가 독립적이기 때문에 다른 컴포넌트의 값을 직접적으로 참조 불가 -> 뷰에서는 미리 정의해 놓은 데이터 전달 방식에 따라 일관된 구조로 애플리케이션 작성

## 상-하위 컴포넌트 관계

뷰 프레임워크 자체에서 정의한 컴포넌트 데이터 전달 방법으로 가장 기본적인 데이터 전달 방법은 **상위(부모) - 하위(자식) 컴포넌트 간의 데이터 전달 방법**

상위 하위 컴포넌트란? - 트리 구조에서 부모 노드, 자식 노드처럼 컴포넌트 간의 관계가 부모, 자식으로 이루어진 컴포넌트

상위 -> 하위 : props라는 특별한 속성 전달

하위 -> 상위 : 이벤트만 전달

## 상위에서 하위 컴포넌트로 데이터 전달하기

## props 속성

1. props 속성을 정의하려면 아래와 같이 하위 컴포넌트의 속성에 정의한다

```
Vue.component('child-component', {
	props: ['props 속성 이름'],
});
```

2. 그런 다음 HTML 코드에 등록된 child-component 컴포넌트 태그에 v-bind 속성 추가한다

```
<child-component v-bind:props 속성 이름="상위 컴포넌트의 dadta 속성"></child-component>
```

## 하위에서 상위 컴포넌트로 이벤트 전달하기

### 이벤트 발생과 수신

이벤트를 발생시켜(event emit) 상위 컴포넌트에 신호를 보낸다

-> 하위 컴포넌트에서 특정 이벤트가 발생하면 상위 컴포넌트에서 해당 이벤트를 수신하여 상위 컴포넌트의 메서드를 호출한다

### 이벤트 발생과 수신 형식

```
// 이벤트 발생 -> 하위 컴포넌트 특정 메서드 내부에 작성
this.$emit('이벤트명')
```

```
// 이벤트 수신
<child-component v-on:이벤트명="상위 컴포넌트의 메서드명"</child-component>
```

## 관계 없는 컴포넌트 간 통신 - 이벤트 버스

이벤트 버스 : 개발자가 지정한 2개의 컴포넌트 간에 데이터를 주고받을 수 있는 방법

이벤트 버스를 이용하면 상위 - 하위 관계를 유지하고 있지 않아도 데이터를 한 컴포넌트에서 다른 컴포넌트로 전달 가능

```
// 이벤트 버스를 위한 추가 인스턴스 1개 생성
var eventBus = new Vue();
```

```
// 이벤트를 보내는 컴포넌트
method: {
	메서드명: function() {
		eventBus.$emit('이벤트명', 데이터);
        }
}
```

```
// 이벤트를 받는 컴포넌트
methods: {
	created: function() {
		eventBus.$on('이벤트명', function(데이터){
			...		
		});
	}
}
```

